cd kubernetes/ingress-cp
kubectl apply -f ingress-namespace.yaml
kubectl apply -f default-backend.yaml -n ingress
kubectl apply -f default-backend-service.yaml -n ingress
kubectl apply -f nginx-ingress-controller-config-map.yaml -n ingress
kubectl apply -f nginx-ingress-controller-roles.yaml -n ingress
kubectl apply -f nginx-ingress-controller-deployment.yaml -n ingress
kubectl apply -f nginx-ingress-controller-service.yaml -n ingress
kubectl apply -f nginx-ingress.yaml -n ingress
cd ..
docker build -f Dockerfile -t 192.168.20.40:5000/gigiodesenvolvimento/hotels-backend:0.1.0 .
docker push 192.168.20.40:5000/gigiodesenvolvimento/hotels-backend:0.1.0
cd kubernetes/
kubectl apply -f hotels-backend-namespace.yaml
kubectl apply -f hotels-backend-deployment.yaml
kubectl apply -f hotels-backend-service.yaml
kubectl apply -f hotels-backend-ingress.yaml
cd ..
cd performance-tests/
docker container run -it --name hotels-backend-taurus-test -v /vagrant/shared/hotels-backend/performance-tests/:/bzt-configs blazemeter/taurus hotels-backend-performance-tests.yaml
docker container rm -f hotels-backend-taurus-test